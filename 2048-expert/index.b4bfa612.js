const e=document.querySelector(".game-board"),t=document.getElementById("current-score"),n=document.getElementById("best-score");let r=[],i=0,o=null===getBestScore()?0:getBestScore();function a(){const e=Math.floor(Math.random()*r.length);0==r[e].innerHTML?r[e].innerHTML=Math.random()>.5?4:2:(M(),H()||a())}function l(){a(),a()}function s(){for(let e=0;e<6;e++){let t=[];for(let n=0;n<6;n++){let i=r[e+6*n].innerHTML;t.push(parseInt(i))}t=t.filter((e=>e));let n=6-t.length,i=Array(n).fill(0).concat(t);for(let t=0;t<6;t++)r[e+6*t].innerHTML=i[t]}}function c(){for(let e=0;e<6;e++){let t=[];for(let n=0;n<6;n++){let i=r[e+6*n].innerHTML;t.push(parseInt(i))}t=t.filter((e=>e));let n=6-t.length,i=t.concat(Array(n).fill(0));for(let t=0;t<6;t++)r[e+6*t].innerHTML=i[t]}}function d(){for(let e=0;e<36;e+=6){let t=[];for(let n=0;n<6;n++){let i=r[e+n].innerHTML;t.push(parseInt(i))}t=t.filter((e=>e));let n=6-t.length,i=Array(n).fill(0).concat(t);for(let t=0;t<6;t++)r[e+t].innerHTML=i[t]}}function u(){for(let e=0;e<36;e+=6){let t=[];for(let n=0;n<6;n++){let i=r[e+n].innerHTML;t.push(parseInt(i))}t=t.filter((e=>e));let n=6-t.length,i=t.concat(Array(n).fill(0));for(let t=0;t<6;t++)r[e+t].innerHTML=i[t]}}function f(){for(let e=0;e<6;e++)for(let t=0;t<5;t++){let n=6*e+t;if(r[n].innerHTML===r[n+1].innerHTML){let e=parseInt(r[n].innerHTML)+parseInt(r[n+1].innerHTML);r[n].innerHTML=e,r[n+1].innerHTML=0,g(e)}}L()}function b(){for(let e=0;e<6;e++)for(let t=0;t<5;t++){let n=6*t+e;if(r[n].innerHTML===r[n+6].innerHTML){let e=parseInt(r[n].innerHTML)+parseInt(r[n+6].innerHTML);r[n].innerHTML=e,r[n+6].innerHTML=0,g(e)}}L()}function g(e){i+=e,t.innerHTML=i,i>parseInt(o)&&(setBestScore(i),n.innerHTML=i)}function L(){for(let e=0;e<36;e++)2048==r[e].innerHTML&&(alert("\t\t You win! \n Your score is "+i),T())}function M(){if(H()){for(let e=0;e<30;e++)if(r[e].innerHTML==r[e+6].innerHTML)return;for(let e=0;e<35;e++)if(r[e].innerHTML==r[e+1].innerHTML&&e%6!=0)return;alert("\t\t You Lost\n Your score is "+i),T()}}function H(){let e=0;for(let t=0;t<36;t++)0==r[t].innerHTML&&e++;return 0==e}function T(){r.forEach((e=>{e.innerHTML="",e.setAttribute("data-digits",0)})),i=0,t.innerHTML=0,l(),k()}function k(){for(let e=0;e<36;e++){switch(r[e].innerHTML){case"":case"0":r[e].style.backgroundColor="#afa184",r[e].style.colour="rgb(175, 161, 132)",r[e].setAttribute("data-digits",0);break;case"2":r[e].style.backgroundColor="#eee4ea",r[e].setAttribute("data-digits",1);break;case"4":r[e].style.backgroundColor="#ede2c8",r[e].setAttribute("data-digits",1);break;case"8":r[e].style.backgroundColor="#f2b179",r[e].setAttribute("data-digits",1);break;case"16":r[e].style.backgroundColor="#ffceaa",r[e].setAttribute("data-digits",2);break;case"32":r[e].style.backgroundColor="#e8c083",r[e].setAttribute("data-digits",2);break;case"64":r[e].style.backgroundColor="#ffab6e",r[e].setAttribute("data-digits",2);break;case"128":r[e].style.backgroundColor="#fd9787",r[e].setAttribute("data-digits",3);break;case"256":r[e].style.backgroundColor="#eah89c",r[e].setAttribute("data-digits",3);break;case"512":r[e].style.backgroundColor="#76daff",r[e].setAttribute("data-digits",3);break;case"1024":r[e].style.backgroundColor="#beeaab",r[e].setAttribute("data-digits",4);break;case"2048":r[e].style.backgroundColor="#d7d0f0",r[e].setAttribute("data-digits",4)}}}!function(){for(let t=0;t<36;t++){let n=document.createElement("div");n.classList.add("cell"),n.setAttribute("data-index",t),n.setAttribute("data-digits",0),r.innerHTML=0,e.appendChild(n),r.push(n)}}(),l(),k(),n.innerHTML=o,document.addEventListener("keyup",(function(e){37===e.keyCode?(u(),f(),u(),l(),k(),M()):38===e.keyCode?(c(),b(),c(),l(),k(),M()):39===e.keyCode?(d(),f(),d(),l(),k(),M()):40===e.keyCode&&(s(),b(),s(),l(),k(),M())}));document.getElementById("new-btn").onclick=function(){T()};
//# sourceMappingURL=index.b4bfa612.js.map
