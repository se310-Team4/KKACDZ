let e=null,t=null,n=0,o=0,s=[];const a=document.getElementById("current-score"),r=document.getElementById("best-score"),l=document.getElementById("poke-tile-table"),d=document.getElementById("poke-img-set"),i=document.getElementById("time-tracker"),c=document.getElementById("game"),m=()=>{E(),n=0,o++,T(),[offsetStart,offsetEnd]=p();const e=t.slice(offsetStart,offsetEnd);h(e),C(e),g(e),f(e),y()},p=()=>{let t=4*(o-1),n=t+4;return n>e.length&&(t=0,n=t+4),[t,n]},u=e=>{const t=[];for(let n=1;n<=e;n++)t.push(n);return t},g=e=>{let t,n=e.length;for(;0!=n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e},h=t=>{for(let n=0;n<2;n++){const o=document.createElement("tr");for(let s=0;s<2;s++){const a=document.createElement("td"),r=t[2*n+s];a.id=`poke-title-${r}`,a.innerText=e[r-1].name.toUpperCase(),a.ondragover=S,a.ondrop=M,o.appendChild(a)}l.appendChild(o)}},f=e=>{let t=[];for(let n=0;n<4;n++){const o=e[n],s=document.createElement("img");s.src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${o}.png`,s.draggable=!1;const a=document.createElement("div");a.id=`poke-img-${o}`,a.classList.add("poke-img"),a.draggable=!0,a.ondragstart=B,a.appendChild(s),H(a),d.appendChild(a),t.push(a)}s=t},E=()=>{l.style.backgroundColor="white",l.innerHTML="",d.innerHTML=""},y=()=>{let e=o;setTimeout((()=>{e===o&&n<4&&(g(t),T(),v())}),1e3*w()),k()},k=()=>{const e=document.createElement("div");e.classList.add("fill"),e.style.animation=`decrease-fill ${w()}s linear`,i.innerHTML="",i.appendChild(e)},b=()=>{0===o&&null!==e&&(document.removeEventListener("mouseup",b),L(),m())},v=()=>{o=0,n=0,c.style.filter="blur(4px)",c.style.pointerEvents="none",document.addEventListener("mouseup",b),(()=>{const e=document.createElement("div");e.id="pre-game-modal",e.classList.add(e.id);const t=document.createElement("div");t.classList.add("content"),t.innerText="Click Anywhere To Start",e.appendChild(t),document.body.appendChild(e)})()},L=()=>{j(),c.style.filter="blur(0)",c.style.pointerEvents="all",document.getElementById("pre-game-modal").remove()},w=()=>{const e=10-1.5*(o-1);return e<4?4:e},T=()=>{[offsetStart,offsetEnd]=p();for(let e=1;e<=4;e++){document.createElement("img").src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${t[e+offsetEnd]}.png`}},C=e=>{e.forEach((e=>{I(e,!0)})),x(!0)},I=(t,n)=>{const o=e[t-1].name,s=new Audio(`https://play.pokemonshowdown.com/audio/cries/${o}.mp3`);s.muted=n,s.play()},x=e=>{const t=new Audio("https://play.pokemonshowdown.com/audio/notification.wav");t.muted=e,t.play()},B=e=>{e.dataTransfer.setData("text/plain",e.target.id)},S=e=>{e.preventDefault()},M=e=>{if(null!==e.dataTransfer){const t=e.target,o=e.dataTransfer.getData("text/plain"),s=document.getElementById(o);if(!P(t,s))return void $(s);A(t,s),4===n&&(j(),D(),setTimeout(m,700))}},P=(e,t)=>{const n=e.id,o=t.id;return n.split("-")[2]===o.split("-")[2]},$=e=>{const t=e.id.split("-")[2];I(t,!1),e.classList.add("shake"),e.draggable=!1,setTimeout((()=>{e.classList.remove("shake"),e.draggable=!0}),500)},A=(e,t)=>{z(t),e.innerHTML="",t.draggable=!1,e.appendChild(t),x(!1),n++},z=e=>{e.classList.remove("hidden"),e.classList.add("shown")},H=e=>{e.classList.remove("shown"),e.classList.add("hidden")},D=()=>{s.forEach((e=>{e.style.outline="1px solid rgb(120, 200, 120)"})),l.style.backgroundColor="rgb(120, 200, 120)",l.classList.add("shimmer"),setTimeout((()=>{l.style.backgroundColor="white",l.classList.remove("shimmer")}),700)},j=()=>{const e=o;let t=q();e>t&&(t=e,U(t)),a.innerText=e,r.innerText=t},U=e=>{localStorage.setItem("bestScorePokezzle",e)},q=()=>localStorage.getItem("bestScorePokezzle");(async()=>{const n=await(async()=>{const e=await fetch("https://pokeapi.co/api/v2/pokemon-species?limit=100000&offset=0");return await e.json()})(),o=n.results.length;e=n.results.slice(0,o).map(((e,t)=>({name:e.name,id:t+1}))),t=u(o),g(t),T()})(),v(),j();
//# sourceMappingURL=index.96d21b6c.js.map
